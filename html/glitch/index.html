<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>[END OF HALLWAY]</title>
    <link rel="stylesheet" href="/assets/data/styles.css">

    <style>
      body {
        margin: 0;
        overflow: hidden;
        height: 100vh;
        user-select: none;
        font-family: monospace;
      }
      canvas {
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        pointer-events: none;
      }
      div {
        position: fixed;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100%;
      }
      @keyframes shake {
        0%   { transform: translate(0, 0); }
        10%  { transform: translate(2px, -1px); }
        20%  { transform: translate(-2px, 1px); }
        30%  { transform: translate(1px, 2px); }
        40%  { transform: translate(-1px, -2px); }
        50%  { transform: translate(2px, 2px); }
        60%  { transform: translate(-2px, -2px); }
        70%  { transform: translate(1px, -2px); }
        80%  { transform: translate(-1px, 2px); }
        90%  { transform: translate(2px, 1px); }
        100% { transform: translate(0, 0); }
      }
      #hash {
        font-size: 128px;
        animation: shake 0.1s infinite;
      }
    </style>

    <script src="/assets/data/mobile.js"></script>
    <script src="/assets/data/glitch.js" type="module" defer></script>
  </head>
  <body>
    <div>
      <p id="hash">#</p>
    </div>
    <canvas id="glitch"></canvas>

    <script>
      const h = document.getElementById("hash")
      let t;
      let fontIndex = 0;
      const ranges = [
        [0x21,   0x7E],   // Basic Latin (printable ASCII)
        [0xA1,   0xFF],   // Latin-1 Supplement (symbols, accented letters)
        [0x0100, 0x017F], // Latin Extended-A
        [0x0180, 0x024F], // Latin Extended-B
        [0x2000, 0x206F], // General Punctuation
        [0x20A0, 0x20CF], // Currency Symbols
        [0x2200, 0x22FF],  // Mathematical Operators
      ];
      const fonts = [
        "Times New Roman",
        "Helvetica",
        "EB Garamond",

        "Courier", 
        "Optima",
        "Didot",
        "Exo",

        "Impact",
        "Source Sans Pro", 
        
        "Courier New",
        "Helvetica Neue",
        "Roboto",
        "Open Sans", 
        "Noto Sans",
        "Oswald",
        "Segoe UI"
      ];

      h.addEventListener("mouseenter", () => {
        t = setInterval(() => {
          const [min, max] = ranges[Math.floor(Math.random() * ranges.length)];
          const char = String.fromCharCode(Math.floor(Math.random() * (max - min + 1)) + min);
          h.textContent = char;
          h.style.fontFamily = fonts[fontIndex];
          fontIndex = (fontIndex + 1) % fonts.length;
        }, 1);
      });

      h.addEventListener("mouseleave", () => {
        clearInterval(t);
        h.textContent = "#";
        h.style.fontFamily = "monospace";
        fontIndex = 0;
      });
    </script>

    <script>
      console.log("[HASHTAGGED]");
    </script>
  </body>
</html>